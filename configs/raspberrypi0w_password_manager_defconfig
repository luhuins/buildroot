# CPU
BR2_arm=y
BR2_arm1176jzf_s=y
BR2_ARM_EABIHF=y

# TOOLCHAIN
BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_5_10=y
BR2_TOOLCHAIN_BUILDROOT_MUSL=y
BR2_GCC_ENABLE_LTO=y
BR2_PIC_PIE=y
BR2_SSP_ALL=y
BR2_RELRO_FULL=y

# SYSTEM
BR2_ROOTFS_DEVICE_CREATION_DYNAMIC_MDEV=y
BR2_TARGET_GENERIC_HOSTNAME="rpi0w"
BR2_TARGET_GENERIC_ISSUE="Welcome to RPI0W"
BR2_ROOTFS_MERGED_USR=y
BR2_SYSTEM_ENABLE_NLS=y
BR2_TARGET_TZ_INFO=y

# KERNEL
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_CUSTOM_TARBALL=y
BR2_LINUX_KERNEL_CUSTOM_TARBALL_LOCATION="$(call github,raspberrypi,linux,967d45b29ca2902f031b867809d72e3b3d623e7a)/linux-967d45b29ca2902f031b867809d72e3b3d623e7a.tar.gz"
BR2_LINUX_KERNEL_USE_CUSTOM_CONFIG=y
BR2_LINUX_KERNEL_CUSTOM_CONFIG_FILE="board/raspberrypi0w_password_manager/linux.config"
BR2_LINUX_KERNEL_DTS_SUPPORT=y
BR2_LINUX_KERNEL_INTREE_DTS_NAME="bcm2708-rpi-zero-w"
BR2_LINUX_KERNEL_NEEDS_HOST_OPENSSL=y
# on board bluetooth firmware
BR2_PACKAGE_RPI_BT_FIRMWARE=y
# on board wifi firmware
BR2_PACKAGE_RPI_WIFI_FIRMWARE=y

# BOOTLOADER
BR2_PACKAGE_RPI_FIRMWARE=y


# nls
BR2_PACKAGE_NCURSES_WCHAR=y

# input method
BR2_PACKAGE_UIM=y
BR2_PACKAGE_UIM_FEP=y

# busybox
BR2_PACKAGE_BUSYBOX_CONFIG_FRAGMENT_FILES="board/raspberrypi0w_password_manager/addtion-busybox.config"
BR2_PACKAGE_BUSYBOX_SHOW_OTHERS=y
BR2_PACKAGE_BUSYBOX_WATCHDOG=y

# filesystem
BR2_PACKAGE_BTRFS_PROGS=y
BR2_PACKAGE_CRYPTSETUP=y

# terminal 
BR2_PACKAGE_SCREEN=y
BR2_PACKAGE_TMUX=y

# crypt
BR2_PACKAGE_GNUPG2=y
BR2_PACKAGE_GNUPG2_GPGV=y
BR2_PACKAGE_PINENTRY=y
BR2_PACKAGE_PINENTRY_NCURSES=y

# bluetooth
BR2_PACKAGE_BLUEZ_TOOLS=y
BR2_PACKAGE_BLUEZ5_UTILS=y
BR2_PACKAGE_BLUEZ5_UTILS_CLIENT=y
BR2_PACKAGE_BLUEZ5_UTILS_PLUGINS_MESH=y
BR2_PACKAGE_BLUEZ5_UTILS_PLUGINS_SAP=y

# ssh
BR2_PACKAGE_DROPBEAR=y

# firewall
BR2_PACKAGE_NFTABLES=y

# vpn
BR2_PACKAGE_WIREGUARD_TOOLS=y

# wifi
BR2_PACKAGE_WIRELESS_REGDB=y
BR2_PACKAGE_WIRELESS_TOOLS=y
BR2_PACKAGE_WPA_SUPPLICANT=y
BR2_PACKAGE_WPA_SUPPLICANT_NL80211=y
BR2_PACKAGE_WPA_SUPPLICANT_WPA3=y
BR2_PACKAGE_WPA_SUPPLICANT_CLI=y
BR2_PACKAGE_WPA_SUPPLICANT_PASSPHRASE=y
BR2_PACKAGE_WPA_SUPPLICANT_DBUS=y

# ntp
BR2_PACKAGE_CHRONY=y

# Random number generator
BR2_PACKAGE_HAVEGED=y

# password manager
BR2_PACKAGE_PASSWORD_STORE=y

# password-store depends
BR2_PACKAGE_BASH=y
BR2_PACKAGE_TREE=y
BR2_PACKAGE_GIT=y
BR2_PACKAGE_COREUTILS=y

# usb gadget hid input
BR2_PACKAGE_GHID_INPUT=y

# Required tools to create the SD image
BR2_PACKAGE_HOST_DOSFSTOOLS=y
BR2_PACKAGE_HOST_GENIMAGE=y
BR2_PACKAGE_HOST_MTOOLS=y

# Filesystem / image
BR2_TARGET_ROOTFS_BTRFS=y
BR2_TARGET_ROOTFS_BTRFS_SIZE="256M"
BR2_ROOTFS_POST_IMAGE_SCRIPT="board/raspberrypi0w_password_manager/post-image.sh"

# User's custom configuration
BR2_ROOTFS_OVERLAY="board/raspberrypi0w_password_manager/overlay/"
